@model AA.HRMS.Interfaces.IUserAppRoleView

@{

                ViewBag.Title = "Add Role to " + Model.Username;
}



<div class="modal-header">
    <h3>@ViewBag.Title</h3>
    <button type="button" class="close" data-dismiss="modal">&times;</button>
</div>



@using (Html.BeginForm("AddUserRole", "UserRole", FormMethod.Post))
{
    @Html.AntiForgeryToken()


<div class="modal-body">

    @Html.ValidationSummary()
    @Model.ProcessingMessage

    <input type="hidden" id="userName" name="userName" value="@Model.Username" />
    <input type="hidden" id="userId" name="userId" value="@Model.UserId" />
    <input type="hidden" id="createByUsername" name="createByUsername" value="@Model.CreateByUsername" />

    <div class="form-example-int">
        <div class="form-group">
            <label>Roles</label>
            <div class="">
                @Html.DropDownList("AppRoleId", Model.AppRoleCollection, new { @class = "form-control", id = "AppRoleId" })

            </div>
        </div>
    </div>


</div>

    <div class="modal-footer">
        <button type="submit" name="submitButton" class="btn btn-default" >Add</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
    </div>
    <div class="column" style="font-size: 9px; font-weight: bold; font-style: italic; padding-left: 5px; padding-top: 2px;">
        You must enter all information above correctly to enable submission.
    </div>
}


@section JavaScriptsIncludes
{
    <script src="/Scripts/jquery-ui-1.12.1.js" type="text/javascript"></script>
}


@section JavaScriptsExecution
{
    <script type="text/javascript">
        $(document).ready(function () {

            $('#btnCancel').click(function () {
                window.location.href = '/Administration/User';
                return false;
            });


            $('#companyId').change(function () {
                $('#UserId').trigger("propertychange");
            });

            $('#roleId').change(function () {
                $('#UserId').trigger("propertychange");
            });


            $('#UserId').bind('input propertychange',
                function () {
                    $('#btnSubmit').prop("class", "grayButton");
                    $('#btnSubmit').prop("disabled", true);

                    var companyIdOkay = $('#companyId').val().length > 0;

                    var roleIDOkay = $('#roleId').val().length > 0;

                    if ((companyIdOkay) && (jobDefinition)) {
                        $('#btnSubmit').prop("class", "blueButton");
                        $('#btnSubmit').prop("disabled", false);
                    }
                });

        });
    </script>
}

@section Stylesheets{
    <link href="/Content/themes/base/all.css" rel="stylesheet" type="text/css" />
}
