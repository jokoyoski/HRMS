@using AA.HRMS.Domain.Resources
@model AA.HRMS.Interfaces.ILogOnView

@{
    ViewBag.Title = "Sign in";
}
@section PageTitle{
    Sign In
}







<div class="columns" style="font-size: 12px; margin-left: 15px; margin-top: 15px; width: 100%;">
    <div class="validation-summary-errors">
        @Html.ValidationSummary()
        @Model.InfoMessage
    </div>
</div>
@using (Html.BeginForm("Login", "Account", FormMethod.Post, new
{
    id = "loginForm"
}))
{
    @Html.AntiForgeryToken()
    <input type="hidden" name="returnUrl" id="returnUrl" value="@Model.ReturnUrl" />
    <div class="nk-form">
        <div class="input-group">
            <span class="input-group-addon nk-ic-st-pro"><i class="notika-icon notika-support"></i></span>
            <div class="nk-int-st">
                <input type="text" id="username" name="username" class="form-control" value="@Model.UserName" placeholder="Username">
            </div>
        </div>
        <div class="input-group mg-t-15">
            <span class="input-group-addon nk-ic-st-pro"><i class="notika-icon notika-edit"></i></span>
            <div class="nk-int-st">
                <input type="password" id="password" name="password" class="form-control" value="@Model.Password" placeholder="Password">
            </div>
        </div>
        <div class="fm-checkbox">
            <label><input name="rememberMe" id="rememberMe" value="false" type="checkbox" class="i-checks"> <i></i> Keep me signed in</label>
        </div>
        @*<a href="#l-register" data-ma-action="nk-login-switch" data-ma-block="#l-register" class="btn btn-login btn-success btn-float"><i class="notika-icon notika-right-arrow right-arrow-ant"></i></a>*@
        <input class="notika-icon notika-right-arrow right-arrow-ant" id="loginSubmit" name="loginSubmit" type="submit" value="Sign In" />
    </div>
    <div class="nk-navigation nk-lg-ic">
        <a href="#" data-ma-action="nk-login-switch" data-ma-block="#l-register"><i class="notika-icon notika-plus-symbol"></i> <span>Register</span></a>
        <a href="#" data-ma-action="nk-login-switch" data-ma-block="#l-forget-password"><i>?</i> <span>Forgot Password</span></a>
    </div>
    <input type="hidden" name="returnUrl" id="returnUrl" value="@Model.ReturnUrl" />
    @*<div class="columns" style="width: 100%; padding-top: 25px;">
            <div class="label column" style="width: 175px; text-align: right; padding-right: 5px;">
                *Email :
            </div>
            <div class="data column" style="overflow: hidden;">
                <input id="username" name="username" style="width: 250px;" type="text" maxlength=100 tabindex=1 value="@Model.UserName" />
            </div>
            <div class="column links" style="padding-left: 10px;">

                <p><a id="forgotUserName" href="/Account/ResetPassword">Have you forgotten your username?</a></p>
            </div>
        </div>
        <div class="columns" style="width: 100%; padding-top: 5px;">
            <div class="label column" style="width: 175px; text-align: right; padding-right: 5px;">
                *Password:
            </div>
            <div class="data column" style="overflow: hidden;">
                <input id="password" name="password" style="width: 250px;" type="password" maxlength="250" value="@Model.Password" tabindex=2 />
            </div>
            <div class="column links" style="padding-left: 10px;">
                <p><span>Note:</span> The password is case sensitive.</p>
                <p><a href="/Account/ChangePassword">Have you forgotten your password?</a></p>
            </div>
        </div>
        <input type="hidden" name="rememberMe" id="rememberMe" value="false" />
        <input type="hidden" name="returnUrl" id="returnUrl" value="@Model.ReturnUrl" />

        <div class="columns" style="width: 100%; padding-top: 15px; padding-bottom: 5px;">
            <div class="column" style="margin-left: 195px;">
                <input class="grayButton" id="loginSubmit" name="loginSubmit" disabled style="width: 80px;" type="submit" value="Sign In" />
            </div>
            <div class="column" style="font-size: 9px; font-weight: bold; font-style: italic; padding-left: 5px; padding-top: 2px;">
                Must enter Username(valid email) and Password(minimum 8 characters) to enable Sign In.
            </div>
        </div>*@
}
@*<div class="columns" style="padding-top: 20px; width: 100%;">
    @Html.ValidationSummary()
    <div id="errorMsgCenter" class="validation-summary-errors">
        @Model.ErrorMessage
    </div>
</div>
<div class="columns" style="width: 100%; padding-top: 15px;">
    <div class="column blueButton" style="width: 150px; margin-left: 190px;">
        <a href="/Account/Register/">Register</a>
    </div>
</div>
<div class="columns" style="width: 100%;">
    <div class="column" style="width: 250px; margin-left: 190px; font-size: 9px; font-weight: bold; font-style: italic; padding-left: 5px; vertical-align: top;">
        Click here to register an account.
    </div>
</div>*@

@section JavaScriptsIncludes
{
    <script src="/Scripts/jquery-ui-1.12.1.js" type="text/javascript"></script>
}

@section JavaScriptsExecution
{
    <script type="text/javascript">
        $(document).ready(function () {

            $('#username').bind('input propertychange change keydown, keypress', function () {
                $('#password').trigger("propertychange");
            });

            $('#password').bind('input propertychange', function () {
                $('#loginSubmit').prop("class", "grayButton");
                $('#loginSubmit').prop("disabled", true);

                var usernameOkay = $('#username').val().length > 0;
                var passwordOkay = $('#password').val().length > 7;

                if ((usernameOkay) && (passwordOkay) && (validateEmail($('#username').val().trim()))) {
                    $('#loginSubmit').prop("class", "blueButton");
                    $('#loginSubmit').prop("disabled", false);
                    $('#username').val($('#username').val().trim());
                }
            });

            function validateEmail(sEmail) {
                var filter = /^[\w\-\.\+]+\@@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/;
                return filter.test(sEmail);
            }

            $("#forgotUserName").click(function () {
                forgotUserNameDialog();
                return false;
            });

            function forgotUserNameDialog() {
                var html = '<div><p>If you have forgotten your username please contact the System Administrator at 1-800-XXX-XXXXX ' +
                    'or via email at support@omlkonsults.com</p></div>';
                $(html).dialog({
                    title: 'Forgotten your username?',
                    resizable: false,
                    height: 200,
                    width: 510,
                    modal: true,
                    buttons: [{ text: 'Ok', click: function () { $(this).dialog("close"); } }]
                });
            }
        });
    </script>
}
@section Stylesheets{
    <link href="/Content/themes/base/all.css" rel="stylesheet" type="text/css" />
}
